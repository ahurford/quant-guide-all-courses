# R markdown {#rmarkdown}

## Introduction

R Markdown provides a fully reproducible framework for presenting and sharing data science. You can use a single R Markdown file to both:

* save and execute code
* generate high quality written documents

R Markdown documents can be rendered to many output formats including HTML documents, PDFs, Word files, slideshows, etc.

### Installation

You can install the [R Markdown](https://rmarkdown.rstudio.com) package from CRAN:

```{r, eval = F}
install.packages("rmarkdown")
```

## Setup

To get started, open a new text file and save it with the extension .Rmd. Alternatively, if you are using RStudio, you can create a new Rmd file from the menu File -> New File -> R Markdown.

An R Markdown file contains three types of content:

1. An optional header that contains the document metadata and is surrounded by `---` on either side.

2. Chunks of R code surrounded by ` ``` ` and specifying `{r}` at the top.

3. Text that is easily formatted

In general, your R Markdown file will look like this when using RStudio.

```{r, fig.cap="R Markdown general setup", fig.align='center', out.width="70%", fig.show='hold', echo=FALSE}
knitr::include_graphics('./figures/RMarkdown1.png')
```

The optional header is written using [YAML](https://yaml.org) programming language. R Markdown files are often set as html documents and can be changed to a PDF or word document at any time.

You can run each code chunk by clicking the Run icon or small green triangle at the start of each chunk. RStudio executes the code and displays the results inline with the code. If you only want to prevent the source code from being displayed, you can set `{r, echo = FALSE}` at the start of the code chunk.

Note that text is written as you would in any word processing program, unlike `.R` files where you need to comment text using the pound symbol (#).

```{r, fig.cap="R Markdown output preview", fig.align='center', out.width="70%", fig.show='hold', echo=FALSE}
knitr::include_graphics('./figures/RMarkdown2.png')
```

Tip: Try to leave at least one empty line between adjacent elements, e.g., between a header and a paragraph or between text and code, to ensure everything renders properly.

## Syntax

### Headers

Section headers can be written after a number of pound signs, e.g.,

```{r}
# First-level header

## Second-level header

### Third-level header

```

### Lists

Unordered list items start with *, -, or +, and you can nest one list within another list by indenting the sub-list, e.g.,

```
- one item
- one item
- one item
    - one more item
    - one more item
    - one more item

```

The output is:

- one item
- one item
- one item
  - one more item
  - one more item
  - one more item

Ordered list items start with numbers. You can also nest unordered lists within ordered lists.
```
1. the first item
2. the second item
3. the third item
    - one unordered item
    - one unordered item
```

The output:

1. the first item
2. the second item
3. the third item
  - one unordered item
  - one unordered item


## Further Reading

* Reference guide: https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf?_ga=2.39431847.562324105.1650909679-1492771989.1650909679

* R Markdown: The Definitive Guide by Xie et al.: https://bookdown.org/yihui/rmarkdown/ 
